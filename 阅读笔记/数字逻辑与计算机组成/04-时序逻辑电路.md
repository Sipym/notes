# 时序逻辑电路概述
> 采用**有限状态机**的方式来刻画时序逻辑电路的内部状态，以及状态之间的演化关系  

**状态图**: 用来描述有限状态机(FSM)  
   - 包含状态符号的<font color=purple>圆圈</font>表示`状态`  
   - 用有向箭头(带有信息<font color=purple>“输入信号/输出响应”</font>)表示`状态转换方向`  

![img](img/状态图实例.png '图1 状态图实例 :size=80%')  

![img](img/时序逻辑电路的一般结构.png '图2 时序逻辑电路的一般结构')  

**时序逻辑电路的分类**:  
   - `根据输出逻辑对其输入信号依赖情况的不同`:   
      - Mealy型电路: 输出逻辑不仅依赖当前状态，还依赖当前输入  
      - Moore型电路: 仅依赖当前状态  
   - `根据状态转换方式的不同`:  
      - 同步时序逻辑电路: 状态记忆单元在统一的时钟信号控制下进行状态转换  
      - 异步时序逻辑电路: 状态记忆单元没有同意的时钟信号来控制其状态的改变  



# 锁存器和触发器
基于**双稳态元件**的各种锁存器和触发器  
- `锁存器(latch)`: 采用<font color=purple>电平控制方式</font>，在其控制信号的有效电平期间，外部输入的变化一直能触发其状态发生改变  
- `触发器(flip-flop)`: 采用<font color=purple>时钟边沿触发控制方式</font>  

## 双稳态元件
![img](img/双稳态元件示意图.png '图3 双稳态元件示意图 :size=80%')  
**概念**:具有两种不同的稳定状态输出的电路  

**特殊情况**:存在<font color=red>亚稳态</font>,双稳态元件输入输出刚好处于逻辑高和低电位区间的中间时  

## SR锁存器
![img](img/SR锁存器.png '图4 SR锁存器原理图、真值表及其电路符号 :size=80%')  
**S端**: 置位输入端  
**R端**: 复位输入端  
> :bulb: <font color=red>S,R不能同时为1</font>,此时$Q,\overline{Q}$均为1,是不合理的  

**触发延迟(锁存延迟)**: 从输入驱动信号有效开始，到输出达到稳定位置有一定的延迟  
   - 如一开始处于置位状态(S=1),此时R变为高电平，经过`一级门延迟`后<font color=purple>Q输出变为0</font>,在`经过一级门延迟`，<font color=purple>$\overline{Q}$才变为1</font>,此时锁存器变为复位状态.由此可见，转换期间<font color=blue>有非常小的时间区间，$Q,\overline{Q}$均为0</font>  


## D锁存器
![img](img/D锁存器.png '图5 D锁存器 :size=80%')  
**C端**: 控制电路锁存信息的使能信号,<font color=purple>控制何时读取并锁存输入端D的信号</font>  


## D触发器
![img](img/D触发器的原理图和时序图.png '图6 下降沿触发的D触发器的原理图和时序图 ')  
**组成结构**: 由两个D锁存器构成主从结构  
**输入时序要求**: D触发器的输入端D在时钟触发边沿前后的一定时间内保持不变(因为D在时钟触发边沿处被采样)  
   - `建立时间`: 时钟触发边沿来之前输入端D必须稳定的<font color=purple>最短时间</font>  
   - `保持时间`: 时钟触发边沿来之后输入端D必须稳定的<font color=purple>最短时间</font>  

**锁存延迟**: 从时钟触发边沿到来到输出端Q改变为D的当前输入值的时间  


![img](img/下降沿触发的D触发器.png '图7 下降沿触发的D触发器的原理图、真值标及其电路符号 ')

### 带使能端的D触发器
![img](img/带使能端的触发器原理图及其电路符号.png '图8 带使能端的触发器原理图及其电路符号 :size=80%')  
**功能**:  
   - `EN为1`: 触发器与D触发器功能完全相同  
   - `EN为0`: 保持原来的状态不变  

### 带复位功能的D触发器
![img](img/带同步复位功能的触发器原理图及其电路符号.png '图9 带同步复位功能的触发器原理图及其电路符号')  
**功能**: 当$\overline{Rst},RST$为有效电平时，电路复位  


### T触发器
**功能**: 在每一个时钟脉冲的触发边沿到来后都会改变状态  
![img](img/基于D触发器实现的T触发器.png '图10 基于D触发器实现的T触发器 :size=50%')


