# 简单控制系统的设计
## 简单控制系统设计概述
![img](img/简单控制系统典型结构框图.png '图1 简单控制系统典型结构框图 :size=80%')  

**对控制系统的要求**: `系统稳定`，`过渡过程时间短`，`控制精度高`  

### 控制系统的设计步骤
1. 熟悉系统的技术要求或性能指标  
   - > 如超调量，稳定误差，调节时间，上升时间，衰减比等     
2. <font color=purple>建立控制系统的数学模型</font>  
3. 依据过程的数学模型，<font color=purple>确定控制方案</font>,即`确定控制介质`、`被控参数`的确定及测量与变送、`调节阀的选择`、`调节器作用方式`的选择  
4. 依据调节规律对调节质量的影响，结合工艺情况，<font color=purple>确定调节规律</font>  
5. 依据过程的特性(<font color=blue>动态和静态特性</font>),<font color=purple>确定调节器的参数</font>  
6. 仿真研究或试验模拟  
7. 工程化设计，仪表调校，工程安装，调节器参数的实际整定等  

## 控制方案的确定
**内容**:`被控参数的选择`，`测量信息的获取及变送`，`控制参数的选择`，`调节规律的选取`，`调节阀(执行器)的选择`，`调节器正、反作用的确定`等  

### 1.被控参数的选取
**被控变量**: 生产过程中希望借助自动控制<font color=blue>保持恒定值(或按一定规律变化)</font>的变量  

**<font color=red>被控变量的选择依据</font>**:  
1. 根据`生产工艺的要求`，找出`影响生产的关键变量`作为被控变量  
   - > 如控制液位稳定，则`液位`被控变量  
2. 当`不能用直接工艺参数`作为被控变量时，应选择与`直接工艺参数`<font color=blue>有单值函数关系</font>的`间接工艺参数`作为被控变量  
3. 被控变量必须有<font color=purple>足够大的灵敏度</font>  
4. 选择被控变量时，必须<font color=purple>考虑工艺合理性</font>  

### 2.控制参数的选择
![img](img/被控变量与影响因素.png '图2 被控变量与影响变量 :size=50%')  
**影响变量**:系统中，有许多影响被控变量的因素，其中有些是可控的，有些是不可控的  

**控制变量**: 是从影响变量中选出一个`可控的`，`便于控制的`,`对被控变量影响显著`的变量  
**系统的干扰**: 除`控制变量`外的所有影响变量   

#### 过程特性对控制质量的影响
![img](img/简单过程控制系统.png '图3 简单过程控制系统 :size=50%')  
> <font color=green>干扰通道</font>: 指$G_f(s)$  
> <font color=green>控制(调节)通道</font>： 指$G_p(s)$  

##### 干扰通道特性对控制质量的影响

**系统输出与干扰之间的传递函数**:$\frac{C(s)}{F(s)} = \frac{G_f(s)}{1+G_c(s)G_v(s)G_p(s)H(s)}$  
   - 假设$G_f(s)$为一阶惯性环节:<font color=blue>$\frac{C(s)}{F(s)} = \frac{1}{1+G_c(s)G_v(s)G_p(s)H(s)}\cdot\frac{K_f}{T_fs+1}$</font>  
   - 假设$G_f(s)$为一阶时延环节:<font color=blue>$\frac{C(s)}{F(s)} = \frac{1}{1+G_c(s)G_v(s)G_p(s)H(s)}\cdot\frac{K_f}{T_fs+1}\cdot e^{-\tau_fs}$</font>  

**影响分析**:  
1. $K_f$的影响: $K_f$越大，则F(s)对C(s)的<font color=purple>干扰作用越大</font>，即C(s)偏离期望值越大。因此<font color=red>希望$K_f$越小越好</font>  
2. $T_f$的影响: $T_f$越小，则系统对干扰的响应速度越快，受影响大。因此希望<font color=red>$T_f$越大越好</font>  
3. $\tau_f$的影响: $\tau_f$存在与否，不影响系统的控制质量.<font color=red>应尽可能将纯滞后时间长的环节置于干扰通道</font>   
4. 干扰进入位置对控制质量的影响:即干扰在GP(S)之前进入系统时,与前面相比又多了一个“滤波”项。<font color=red>所以干扰进入系统的位置越远离被控参数越好</font>。  

##### 控制通道特性对控制质量的影响
**系统输出与输入之间的传递函数**:$\frac{C(s)}{R(s)} = \frac{G_c(s)G_v(s)G_p(s)}{1+G_c(s)G_v(s)G_p(s)H(s)}$  
   - 假设$G_p(s)$为一阶时延:<font color=blue>$\frac{C(s)}{R(s)} = \frac{G_c(s)G_v(s)}{1+G_c(s)G_v(s)G_p(s)H(s)}\cdot\frac{K_p}{T_ps+1}e^{-\tau_ps}$</font>  

**影响分析**:  
1. $K_p$的影响: $K_p$越大，控制作用对输出影响越强，克服干扰能力越强，稳态误差越小，被控参数对控制作用的放映越灵敏。在开环放大倍数一定时，$K_p$越大，$K_c$可以减小，降低了对调节器的性能要求.所以<font color=red>越大越好</font>  
2. $T_p$的影响: $T_p$越大，对被控参数的调节作用不及时，过渡过程时间长。$T_p$过小，使控制作用过于灵敏，容易引起系统振荡，所以应<font color=red>使$T_p$适当，不能太大，也不能太小</font>  
3. $\tau_p$的影响: 控制通道的<font color=red>纯滞后时间$\tau_p$会对控制质量带来极为不利的影响</font>  
   - >测量方面的纯时延: 使控制器不能及时察觉被控参数的变化  
   - >控制方面的纯时延: 使控制作用不能即使产生应有的效果  
   - >纯时延会增加滞后相角，导致系统稳定性下降  
4. <font color=red>控制通道的时间常数应尽可能错开</font>  
   - 若有$G_p(s) = \frac{K}{T_1s+1)(T_2s+1)(T_3s+1)}$  
      - 临界稳定增益为:$K_0 = 2+\frac{T_1}{T_2} + \frac{T_2}{T_1}+\frac{T_1}{T_3}+\frac{T_3}{T_1}+ \frac{T_2}{T_3}+\frac{T_3}{T_2}$


### 3.测量与变送器的选择
**测量变送环节的作用**: 将`被控参数`转换为统一的标准信号<font color=purple>反馈给调节器</font>  

1. 按照生产过程的工艺要求，确定传感器和变送器`合适的量程`与`精度等级`  
2. 测量仪表反应慢，会造成测量是真。应尽可能<font color=purple>选择时间常数小的传感器、变送器</font>  
3. 正确安装仪表(合理选择检测点，<font color=purple>避免纯滞后</font>)  
4. 测量信号的处理  
   - <font color=blue>纯滞后的补偿</font>(需已知测量变送环节的传递函数)  
   - <font color=blue>尽可能消除时间常数的影响</font>(串联PD环节),减少测量变送信号产生的动态偏差  


### 4. 执行器的选择(我可能还是得去学学执行器)
1. 气动与电动的选择  
2. 起动执行器气开、气关的选择原则: 当调节器输出为0时，使生产处于安全状态  
3. 调节阀尺寸的选择:正常运行下，开度处于$15\%$~$85\%$之间  
4. 调节阀流量特性的选择原则: 使被控过程的特性与调节阀的流量特性相互作用成线性特性  


### 5. 调节规律的选择(重点)

